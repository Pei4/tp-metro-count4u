{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { DndContext, KeyboardSensor, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { sortableKeyboardCoordinates } from \"@dnd-kit/sortable\";\nimport Droppable from \"./Droppable\";\nimport { arrayMove, insertAtIndex, removeAtIndex } from \"array\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState({\n    group1: [\"1\", \"2\", \"3\"],\n    group2: [\"4\", \"5\", \"6\"],\n    group3: [\"7\", \"8\", \"9\"]\n  });\n  const sensors = useSensors(useSensor(PointerSensor), useSensor(KeyboardSensor, {\n    coordinateGetter: sortableKeyboardCoordinates\n  }));\n\n  const handleDragOver = _ref => {\n    var _over$data$current;\n\n    let {\n      over,\n      active\n    } = _ref;\n    const overId = over === null || over === void 0 ? void 0 : over.id;\n\n    if (!overId) {\n      return;\n    }\n\n    const activeContainer = active.data.current.sortable.containerId;\n    const overContainer = (_over$data$current = over.data.current) === null || _over$data$current === void 0 ? void 0 : _over$data$current.sortable.containerId;\n\n    if (!overContainer) {\n      return;\n    }\n\n    if (activeContainer !== overContainer) {\n      setItems(items => {\n        var _over$data$current2;\n\n        const activeIndex = active.data.current.sortable.index;\n        const overIndex = ((_over$data$current2 = over.data.current) === null || _over$data$current2 === void 0 ? void 0 : _over$data$current2.sortable.index) || 0;\n        return moveBetweenContainers(items, activeContainer, activeIndex, overContainer, overIndex, active.id);\n      });\n    }\n  };\n\n  const handleDragEnd = _ref2 => {\n    let {\n      active,\n      over\n    } = _ref2;\n\n    if (!over) {\n      return;\n    }\n\n    if (active.id !== over.id) {\n      var _over$data$current3, _over$data$current4;\n\n      const activeContainer = active.data.current.sortable.containerId;\n      const overContainer = ((_over$data$current3 = over.data.current) === null || _over$data$current3 === void 0 ? void 0 : _over$data$current3.sortable.containerId) || over.id;\n      const activeIndex = active.data.current.sortable.index;\n      const overIndex = ((_over$data$current4 = over.data.current) === null || _over$data$current4 === void 0 ? void 0 : _over$data$current4.sortable.index) || 0;\n      setItems(items => {\n        let newItems;\n\n        if (activeContainer === overContainer) {\n          newItems = { ...items,\n            [overContainer]: arrayMove(items[overContainer], activeIndex, overIndex)\n          };\n        } else {\n          newItems = moveBetweenContainers(items, activeContainer, activeIndex, overContainer, overIndex, active.id);\n        }\n\n        return newItems;\n      });\n    }\n  };\n\n  const moveBetweenContainers = (items, activeContainer, activeIndex, overContainer, overIndex, item) => {\n    return { ...items,\n      [activeContainer]: removeAtIndex(items[activeContainer], activeIndex),\n      [overContainer]: insertAtIndex(items[overContainer], overIndex, item)\n    };\n  };\n\n  const containerStyle = {\n    display: \"flex\"\n  };\n  return /*#__PURE__*/React.createElement(DndContext, {\n    sensors: sensors,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: containerStyle\n  }, Object.keys(items).map(group => /*#__PURE__*/React.createElement(Droppable, {\n    id: group,\n    items: items[group],\n    key: group\n  }))));\n}\n\n_s(App, \"XbpS9Buf5PpcLffQgLgFjp8aW+E=\", false, function () {\n  return [useSensors, useSensor, useSensor];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","DndContext","KeyboardSensor","PointerSensor","useSensor","useSensors","sortableKeyboardCoordinates","Droppable","arrayMove","insertAtIndex","removeAtIndex","App","items","setItems","group1","group2","group3","sensors","coordinateGetter","handleDragOver","over","active","overId","id","activeContainer","data","current","sortable","containerId","overContainer","activeIndex","index","overIndex","moveBetweenContainers","handleDragEnd","newItems","item","containerStyle","display","createElement","onDragEnd","onDragOver","style","Object","keys","map","group","key"],"sources":["/Users/patrice/Desktop/SP/Code/GitHub/test-react/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { DndContext, KeyboardSensor, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\nimport { sortableKeyboardCoordinates } from \"@dnd-kit/sortable\";\nimport Droppable from \"./Droppable\";\nimport { arrayMove, insertAtIndex, removeAtIndex } from \"array\";\n\nfunction App() {\n  const [items, setItems] = useState({\n    group1: [\"1\", \"2\", \"3\"],\n    group2: [\"4\", \"5\", \"6\"],\n    group3: [\"7\", \"8\", \"9\"]\n  });\n  const sensors = useSensors(useSensor(PointerSensor), useSensor(KeyboardSensor, {\n    coordinateGetter: sortableKeyboardCoordinates\n  }));\n\n  const handleDragOver = ({\n    over,\n    active\n  }) => {\n    const overId = over?.id;\n\n    if (!overId) {\n      return;\n    }\n\n    const activeContainer = active.data.current.sortable.containerId;\n    const overContainer = over.data.current?.sortable.containerId;\n\n    if (!overContainer) {\n      return;\n    }\n\n    if (activeContainer !== overContainer) {\n      setItems(items => {\n        const activeIndex = active.data.current.sortable.index;\n        const overIndex = over.data.current?.sortable.index || 0;\n        return moveBetweenContainers(items, activeContainer, activeIndex, overContainer, overIndex, active.id);\n      });\n    }\n  };\n\n  const handleDragEnd = ({\n    active,\n    over\n  }) => {\n    if (!over) {\n      return;\n    }\n\n    if (active.id !== over.id) {\n      const activeContainer = active.data.current.sortable.containerId;\n      const overContainer = over.data.current?.sortable.containerId || over.id;\n      const activeIndex = active.data.current.sortable.index;\n      const overIndex = over.data.current?.sortable.index || 0;\n      setItems(items => {\n        let newItems;\n\n        if (activeContainer === overContainer) {\n          newItems = { ...items,\n            [overContainer]: arrayMove(items[overContainer], activeIndex, overIndex)\n          };\n        } else {\n          newItems = moveBetweenContainers(items, activeContainer, activeIndex, overContainer, overIndex, active.id);\n        }\n\n        return newItems;\n      });\n    }\n  };\n\n  const moveBetweenContainers = (items, activeContainer, activeIndex, overContainer, overIndex, item) => {\n    return { ...items,\n      [activeContainer]: removeAtIndex(items[activeContainer], activeIndex),\n      [overContainer]: insertAtIndex(items[overContainer], overIndex, item)\n    };\n  };\n\n  const containerStyle = {\n    display: \"flex\"\n  };\n  return /*#__PURE__*/React.createElement(DndContext, {\n    sensors: sensors,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: containerStyle\n  }, Object.keys(items).map(group => /*#__PURE__*/React.createElement(Droppable, {\n    id: group,\n    items: items[group],\n    key: group\n  }))));\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}